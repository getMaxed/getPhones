import React, {Component} from 'react'
import {connect} from 'react-redux'
import {Link} from 'react-router'
import R from 'ramda'

import {fetchPhones} from 'actions'
import {getPhones} from 'selectors'

class Phones extends Component {
    componentDidMount () {
        this.props.fetchPhones()
    }

    renderPhone (phone, index) {
        const shortDescription = `${R.take(60, phone.description)}...`

        return (
            <div className="col-sm-4 col-lg-4 col-md-4 book-list" key={index}>
                <p>{phone.name}</p>
            </div>

        )
    }

    render () {
        const {phones} = this.props;
        console.log(phones);
        return (
            <div className="books row">
                {phones.map((phone, index) => this.renderPhone(phone, index))}
            </div>
        )
    }
}

const mapStateToProps = state => ({
    phones: getPhones(state)
});

const mapDispatchToProps = {
    fetchPhones
};

export default connect(mapStateToProps,mapDispatchToProps) (Phones);

